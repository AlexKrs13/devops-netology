## Типы и структура СУБД

### 1. Задача 1
```text
Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определенных данных.
Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:
* Электронные чеки в json виде
* Склады и автомобильные дороги для логистической компании
* Генеалогические деревья
* Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации
* Отношения клиент-покупка для интернет-магазина
Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.
```
#### Выберите подходящие типы СУБД для каждой сущности:
__1.1. Электронные чеки в json виде__  
* Если отвечать на вопрос теоретически, то лучшим вариантом, на мой взгляд, будет NoSQL СУБД - MongoDB.  
> Одним из популярных стандартов обмена данными и их хранения в MongoDB является JSON (JavaScript Object Notation).  
JSON эффективно описывает сложные по структуре данные. Способ хранения данных в MongoDB в этом плане похож на JSON, хотя формально JSON не используется.  
Для хранения в MongoDB применяется формат, который называется BSON (БиСон) или сокращение от binary JSON.  
BSON позволяет работать с данными быстрее: быстрее выполняется поиск и обработка. Хотя надо отметить, что BSON в отличие от хранения данных в формате JSON имеет небольшой недостаток: в целом данные в JSON-формате занимают меньше места, чем в формате BSON, с другой стороны, данный недостаток с лихвой окупается скоростью.

* На практике может легко применяться и SQL СУБД. Сталкивался таким подходом, где команда использовала решение на PostgresSQL для хранения и последующей обработки данных с R-keeper.  
> В PostgreSQL имеются два типа для хранения данных JSON: json и jsonb. Для реализации эффективного механизма запросов к этим типам данных в PostgreSQL также имеется тип jsonpath.
Для работы с ними есть также несколько специальных функций и операторов.

* Если поток сообщений большой - десятки и сотни тысяч сообщений в секунду (в масштабах страны), то можно и брокер kafka использовать.
Далее сообщения вычитывать и сохранять в целевую структуру, например, на greenplum или hadoop.
Вот у нас подобное решение на работе как раз и применялось.

__1.2. Склады и автомобильные дороги для логистической компании__  
SQL СУБД. Если нужно работать с географическими координатами, строить кратчайший поиск пути на графе - стоит выбрать Postgres. К нему можно дополнительные модули поставить, например, PostGIS.
Сам такую задачу не решал, но вот к коллеге, который GreenPlum админит, с подобным запросом приходили разработчики. Им поставили дополнительные расширения и они успешно запускали расчеты на кластере.

__1.3. Генеалогические деревья__  
Есть специализированный класс NoSQL решений - графовые СУБД: Neo4j, OrientDB   

__1.4. Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации__  
NoSQL решения - key-value хранилища, такие как Memcached или Redis  

__1.5. Отношения клиент-покупка для интернет-магазина__  
Любые реляционные СУБД. Думаю, что самым популярным вариантом в этом сегменте является MySQL.  
